module tb_niveles;

    // Declaración de señales para las entradas del DUT (Device Under Test)
    reg clk;
    reg alimentar;
    reg jugar;
    reg reset;
    reg test;

    // Declaración de señales para las salidas del DUT
    wire [2:0] nivel_hambre;
    wire [2:0] nivel_diversion;
    wire reset_debounced;
    wire test_debounced;

    // Instancia del módulo niveles (DUT)
    niveles dut (
        .clk(clk),
        .alimentar(alimentar),
        .jugar(jugar),
        .reset(reset),
        .test(test),
        .nivel_hambre(nivel_hambre),
        .nivel_diversion(nivel_diversion),
        .reset_debounced(reset_debounced),
        .test_debounced(test_debounced)
    );

    // Generador de reloj
    initial begin
        clk = 0;
        forever #10 clk = ~clk; // Reloj con periodo de 20 unidades de tiempo
    end

    // Inicialización de señales
    initial begin
        alimentar = 0;
        jugar = 0;
        reset = 0;
        test = 0;
    end

    // Estímulos de prueba
    initial begin
        // Inicialización de reset para asegurar un estado inicial limpio
        reset = 1;
        #20;  // Esperar 20 unidades de tiempo
        reset = 0;

        // Simular alimentación del Tamagotchi
        #50;  // Esperar 50 unidades de tiempo
        alimentar = 1;
        #20;  // Mantener el botón alimentar presionado durante 20 unidades de tiempo
        alimentar = 0;

        // Simular que se juega con el Tamagotchi
        #100;
        jugar = 1;
        #20;
        jugar = 0;

        // Simular otro minuto
        #500000; // Esperar 500000 unidades de tiempo para simular que pasó 1 minuto

        // Simular otro ciclo de juego
        #50;
        jugar = 1;
        #20;
        jugar = 0;

        // Probar el botón de test
        #50;
        test = 1;
        #20;
        test = 0;

        // Simular reset de nuevo
        #100;
        reset = 1;
        #20;
        reset = 0;

        // Finalizar la simulación
        #1000;
        $finish;
    end

    // Monitor para ver los cambios de las señales en consola
    initial begin
        $monitor("Tiempo: %d, reset=%b, alimentar=%b, jugar=%b, nivel_hambre=%d, nivel_diversion=%d, reset_debounced=%b, test_debounced=%b", 
                 $time, reset, alimentar, jugar, nivel_hambre, nivel_diversion, reset_debounced, test_debounced);
    end

endmodule
